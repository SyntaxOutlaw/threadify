// Threadify Extension - Forum Styles
// Minimal: only indentation & guides; no compact spacing to avoid footer misalignment

// Indentation & colors
@thread-indent-size: 20px;       // per-depth indent
@thread-max-depth: 10;           // (note) not programmatically used here
@thread-border-color: #e0e6ed;   // neutral guide color

// Base: make container relative so guides can be absolutely positioned
.threaded-post {
  position: relative;

  // Left vertical guide (neutral, 2px)
  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: @thread-border-color;
    pointer-events: none; // never block clicks
  }

  // Small horizontal connector from guide into the post
  &::after {
    content: '';
    position: absolute;
    left: 2px;
    top: 15px;    // visually aligned with default Flarum layout
    width: 8px;
    height: 1px;
    background-color: @thread-border-color;
    pointer-events: none;
  }
}

// Depth indentation — keep guides 2px (no per-depth colors, no spacing tweaks)
.thread-depth-1  { margin-left: (@thread-indent-size * 1);  &::before { width: 2px; } }
.thread-depth-2  { margin-left: (@thread-indent-size * 2);  &::before { width: 2px; } }
.thread-depth-3  { margin-left: (@thread-indent-size * 3);  &::before { width: 2px; } }
.thread-depth-4  { margin-left: (@thread-indent-size * 4);  &::before { width: 2px; } }
.thread-depth-5  { margin-left: (@thread-indent-size * 5);  &::before { width: 2px; } }
.thread-depth-6  { margin-left: (@thread-indent-size * 6);  &::before { width: 2px; } }
.thread-depth-7  { margin-left: (@thread-indent-size * 7);  &::before { width: 2px; } }
.thread-depth-8  { margin-left: (@thread-indent-size * 8);  &::before { width: 2px; } }
.thread-depth-9  { margin-left: (@thread-indent-size * 9);  &::before { width: 2px; } }
.thread-depth-10 { margin-left: (@thread-indent-size * 10); &::before { width: 2px; } }

// Hover: only emphasize the guide if you still want a cue.
// 若严格保持 2px，可把 4px 改回 2px。
.threaded-post {
  transition: all 0.2s ease;
  &:hover { &::before { width: 4px; } }
}

// Threading indicator in meta — optional,轻量提示为回复
.threaded-post .PostMeta::before {
  content: '↳ ';
  color: @thread-border-color;
  font-weight: normal;
  margin-right: 3px;
}

// Responsive: only reduce indent; DO NOT touch body/header/content spacing
@media (max-width: 768px) {
  .thread-depth-1,
  .thread-depth-2,
  .thread-depth-3,
  .thread-depth-4,
  .thread-depth-5,
  .thread-depth-6,
  .thread-depth-7,
  .thread-depth-8,
  .thread-depth-9,
  .thread-depth-10 {
    margin-left: 8px !important; // smaller indent on mobile
  }

  // Keep guide thickness consistent on mobile
  .thread-depth-1::before,
  .thread-depth-2::before,
  .thread-depth-3::before,
  .thread-depth-4::before,
  .thread-depth-5::before,
  .thread-depth-6::before,
  .thread-depth-7::before,
  .thread-depth-8::before,
  .thread-depth-9::before,
  .thread-depth-10::before {
    width: 2px !important;
  }
}



{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@syntaxoutlaw/flarum-ext-threadify/webpack/bootstrap","webpack://@syntaxoutlaw/flarum-ext-threadify/webpack/runtime/compat get default export","webpack://@syntaxoutlaw/flarum-ext-threadify/webpack/runtime/define property getters","webpack://@syntaxoutlaw/flarum-ext-threadify/webpack/runtime/hasOwnProperty shorthand","webpack://@syntaxoutlaw/flarum-ext-threadify/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@syntaxoutlaw/flarum-ext-threadify/external root \"flarum.core.compat['admin/app']\"","webpack://@syntaxoutlaw/flarum-ext-threadify/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@syntaxoutlaw/flarum-ext-threadify/external root \"flarum.core.compat['common/components/Button']\"","webpack://@syntaxoutlaw/flarum-ext-threadify/./src/admin/index.js","webpack://@syntaxoutlaw/flarum-ext-threadify/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","import app from 'flarum/admin/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\n\nconsole.log('[Threadify] Admin panel JS loaded');\n\n// Confirmation modal for rebuild action\nclass RebuildConfirmModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = false;\n    this.result = null;\n    this.error = null;\n  }\n\n  className() {\n    return 'RebuildConfirmModal Modal--small';\n  }\n\n  title() {\n    if (this.result) {\n      return 'Rebuild Complete';\n    }\n    if (this.error) {\n      return 'Rebuild Failed';\n    }\n    return 'Rebuild Threadify Database Tables';\n  }\n\n  content() {\n    // Show success results\n    if (this.result) {\n      const results = this.result.results || {};\n      return [\n        m('div', { className: 'Modal-body' }, [\n          m('div', { className: 'Form-group' }, [\n            m('p', { style: { marginBottom: '1rem', color: 'var(--success-color, #4caf50)' } }, [\n              m('strong', '✅ Rebuild completed successfully!')\n            ]),\n            m('div', { style: { fontSize: '0.9em', color: 'var(--muted-color, #999)', marginBottom: '1rem' } }, [\n              m('p', { style: { margin: '0.25rem 0' } }, `Threads processed: ${results.threads_processed || 0}`),\n              m('p', { style: { margin: '0.25rem 0' } }, `Threads cleared: ${results.threads_cleared || 0}`),\n              m('p', { style: { margin: '0.25rem 0' } }, `Errors: ${results.threads_errors || 0}`),\n              results.parent_id_updated !== undefined && m('p', { style: { margin: '0.25rem 0' } }, `Parent IDs updated: ${results.parent_id_updated || 0}`),\n            ])\n          ])\n        ]),\n        m('div', { className: 'Modal-footer' }, [\n          Button.component({\n            className: 'Button Button--primary',\n            onclick: () => this.hide()\n          }, 'Close')\n        ])\n      ];\n    }\n\n    // Show error\n    if (this.error) {\n      return [\n        m('div', { className: 'Modal-body' }, [\n          m('div', { className: 'Form-group' }, [\n            m('p', { style: { marginBottom: '1rem', color: 'var(--alert-color, #f44336)' } }, [\n              m('strong', '❌ Rebuild failed:')\n            ]),\n            m('p', { style: { color: 'var(--text-color, #333)' } }, this.error)\n          ])\n        ]),\n        m('div', { className: 'Modal-footer' }, [\n          Button.component({\n            className: 'Button Button--primary',\n            onclick: () => {\n              this.error = null;\n              this.loading = false;\n              m.redraw();\n            }\n          }, 'Try Again'),\n          Button.component({\n            className: 'Button',\n            onclick: () => this.hide()\n          }, 'Close')\n        ])\n      ];\n    }\n\n    // Show confirmation\n    return [\n      m('div', { className: 'Modal-body' }, [\n        m('div', { className: 'Form-group' }, [\n          m('p', { style: { marginBottom: '1rem' } }, [\n            m('strong', '⚠️ DANGER: '),\n            'This action will rebuild the parent_id and threadify_threads tables from scratch.'\n          ]),\n          m('p', { style: { marginBottom: '1rem', color: 'var(--muted-color, #999)' } }, [\n            'This process may take a while on large forums. All existing thread relationships will be recalculated based on post mentions.'\n          ]),\n          m('p', { style: { marginBottom: '0', fontWeight: 'bold' } }, [\n            'Are you sure you want to continue?'\n          ])\n        ])\n      ]),\n      m('div', { className: 'Modal-footer' }, [\n        Button.component({\n          className: 'Button Button--primary',\n          loading: this.loading,\n          onclick: () => {\n            this.loading = true;\n            app.request({\n              method: 'POST',\n              url: app.forum.attribute('apiUrl') + '/threadify/admin/rebuild-parent-ids',\n            }).then(result => {\n              // Show detailed results in console for debugging\n              console.log('Rebuild complete:', result.results);\n              this.result = result;\n              this.loading = false;\n              m.redraw();\n            }).catch(e => {\n              this.error = e.message || e;\n              this.loading = false;\n              m.redraw();\n            });\n          }\n        }, 'Yes, Rebuild Now'),\n        Button.component({\n          className: 'Button',\n          onclick: () => this.hide()\n        }, 'Cancel')\n      ])\n    ];\n  }\n}\n\napp.initializers.add('syntaxoutlaw-threadify-admin', () => {\n  const apiUrl = () => app.forum.attribute('apiUrl');\n\n  const TAGS_SETTING = 'syntaxoutlaw-threadify.tags';\n\n  // Multi-select dropdown with search (react-select style)\n  const MultiSelectDropdown = {\n    oninit() {\n      this.open = false;\n      this.searchQuery = '';\n      this.dom = null;\n      this.clickOutside = (e) => {\n        if (this.open && this.dom && !this.dom.contains(e.target)) {\n          this.open = false;\n          this.searchQuery = '';\n          m.redraw();\n        }\n      };\n    },\n    oncreate(vnode) {\n      this.dom = vnode.dom;\n      document.addEventListener('click', this.clickOutside);\n    },\n    onupdate(vnode) {\n      this.dom = vnode.dom;\n    },\n    onremove() {\n      document.removeEventListener('click', this.clickOutside);\n    },\n    view(vnode) {\n      const { options, selected, onToggle, placeholder, disabled, disabledMessage, getLabel } = vnode.attrs;\n      const query = (this.searchQuery || '').toLowerCase().trim();\n      const filtered = query\n        ? options.filter(opt => getLabel(opt).toLowerCase().includes(query))\n        : options;\n\n      const triggerLabel = selected.length === 0\n        ? (placeholder || 'Select…')\n        : selected.length === 1\n          ? getLabel(options.find(o => (o.attributes?.slug || o.attributes?.name || '') === selected[0]) || { attributes: { name: selected[0] } })\n          : `${selected.length} tag(s) selected`;\n\n      const handleClick = (e) => {\n        e.stopPropagation();\n        if (disabled) {\n          if (disabledMessage) {\n            app.alerts.show({ type: 'info' }, disabledMessage);\n          }\n          return;\n        }\n        this.open = !this.open;\n        m.redraw();\n      };\n\n      return m('div', {\n        className: 'ThreadifyMultiSelect',\n        style: { position: 'relative', marginTop: '0.25rem' }\n      }, [\n        m('button', {\n          type: 'button',\n          className: 'FormControl',\n          style: { textAlign: 'left', cursor: disabled ? 'not-allowed' : 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'space-between', opacity: disabled ? 0.6 : 1 },\n          onclick: handleClick\n        }, [\n          m('span', { style: { overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' } }, triggerLabel),\n          m('span', { style: { marginLeft: '0.5rem', flexShrink: 0 } }, this.open ? ' ▲' : ' ▼')\n        ]),\n        this.open && !disabled && m('div', {\n          className: 'Dropdown-menu',\n          style: {\n            position: 'absolute',\n            top: '100%',\n            left: 0,\n            right: 0,\n            marginTop: '2px',\n            zIndex: 1000,\n            background: 'var(--body-bg, #fff)',\n            border: '1px solid var(--border-color, #ddd)',\n            borderRadius: '4px',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n            maxHeight: '280px',\n            display: 'flex',\n            flexDirection: 'column'\n          }\n        }, [\n          m('div', { style: { padding: '6px', borderBottom: '1px solid var(--border-color, #eee)' } }, [\n            m('input', {\n              type: 'text',\n              className: 'FormControl',\n              placeholder: 'Search tags…',\n              value: this.searchQuery,\n              oninput: (e) => { this.searchQuery = e.target.value; m.redraw(); },\n              onkeydown: (e) => { e.stopPropagation(); },\n              style: { margin: 0 }\n            })\n          ]),\n          m('div', {\n            style: { overflowY: 'auto', maxHeight: '220px', padding: '4px 0' }\n          }, filtered.length === 0\n            ? m('div', { style: { padding: '8px 12px', color: 'var(--muted-color, #999)' } }, 'No tags match')\n            : filtered.map(opt => {\n                const slug = opt.attributes?.slug || opt.attributes?.name || '';\n                const name = getLabel(opt);\n                const checked = selected.includes(slug);\n                return m('div', {\n                  role: 'button',\n                  tabindex: 0,\n                  className: 'Dropdown-item',\n                  style: {\n                    cursor: 'pointer',\n                    padding: '6px 12px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    background: checked ? 'var(--primary-color, #4d698e)' : 'transparent',\n                    color: checked ? '#fff' : 'inherit'\n                  },\n                  onclick: (e) => { e.preventDefault(); e.stopPropagation(); onToggle(slug, checked); },\n                  onkeydown: (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); onToggle(slug, checked); } }\n                }, [\n                  m('span', { style: { flexShrink: 0, width: '16px', textAlign: 'center' } }, checked ? '✓' : ''),\n                  m('span', { style: { overflow: 'hidden', textOverflow: 'ellipsis' } }, name)\n                ]);\n              })\n          )\n        ])\n      ]);\n    }\n  };\n\n  // Load our settings first (includes tagsExtensionEnabled). Only call /tags when Tags extension is enabled.\n  const TagSelectorSetting = {\n    oninit(vnode) {\n      this.tags = [];\n      this.selectedTags = []; // array of slugs\n      this.loading = true;\n      this.tagsExtensionEnabled = false;\n\n      app.request({ method: 'GET', url: apiUrl() + '/threadify/admin/settings' })\n        .then((settingsResponse) => {\n          const body = settingsResponse && (settingsResponse.threadifyTag !== undefined ? settingsResponse : (settingsResponse.data || {}));\n          this.selectedTags = Array.isArray(body && body.threadifyTags) ? body.threadifyTags : (body && body.threadifyTag ? [body.threadifyTag] : ['threadify']);\n          this.tagsExtensionEnabled = !!(body && body.tagsExtensionEnabled);\n          if (!app.data.settings) app.data.settings = {};\n          app.data.settings[TAGS_SETTING] = JSON.stringify(this.selectedTags);\n\n          if (!this.tagsExtensionEnabled) {\n            this.loading = false;\n            m.redraw();\n            return;\n          }\n          return app.request({ method: 'GET', url: apiUrl() + '/tags' });\n        })\n        .then((tagsResponse) => {\n          if (tagsResponse && tagsResponse.data) this.tags = tagsResponse.data;\n          this.loading = false;\n          m.redraw();\n        })\n        .catch(() => {\n          this.loading = false;\n          m.redraw();\n        });\n    },\n\n    view(vnode) {\n      const isTagMode = vnode.attrs.isTagMode || false;\n\n      if (!this.tagsExtensionEnabled) {\n        return m('div', { className: 'Form-group' }, [\n          m('p', { className: 'helpText', style: { color: 'var(--muted-color, #999)' } }, 'Tag-based threading is not available. Enable the Tags extension (flarum/tags) to choose threadify tags.')\n        ]);\n      }\n\n      const selectedTags = Array.isArray(this.selectedTags) ? this.selectedTags : [];\n\n      const saveTags = (newSelected) => {\n        this.selectedTags = newSelected;\n        const value = JSON.stringify(newSelected);\n        if (!app.data.settings) app.data.settings = {};\n        app.data.settings[TAGS_SETTING] = value;\n        app.request({\n          method: 'POST',\n          url: apiUrl() + '/settings',\n          body: { [TAGS_SETTING]: value }\n        }).then(() => {\n          app.alerts.show({ type: 'success' }, 'Your settings have been saved.');\n          m.redraw();\n        }).catch((e) => { console.error('[Threadify] Failed to save tag setting', e); });\n        m.redraw();\n      };\n\n      const onToggle = (slug, currentlySelected) => {\n        const next = currentlySelected ? selectedTags.filter(s => s !== slug) : selectedTags.concat(slug);\n        saveTags(next);\n      };\n\n      return m('div', { className: 'Form-group' }, [\n        m('label', {}, 'Threadify tag(s)'),\n        m(MultiSelectDropdown, {\n          options: this.tags,\n          selected: selectedTags,\n          onToggle,\n          placeholder: 'Select tag(s)…',\n          disabled: !isTagMode || this.loading,\n          disabledMessage: 'This setting only applies when \"Thread discussions by tag\" mode is enabled.',\n          getLabel: (opt) => (opt.attributes && (opt.attributes.name || opt.attributes.slug)) || ''\n        }),\n        m('p', { className: 'helpText', style: { marginTop: '0.5rem' } }, 'Select which tag(s) enable threading for discussions. Discussions with any selected tag will be threaded.')\n      ]);\n    }\n  };\n\n  // When Tags is disabled we show only \"Thread all\" and a note; when enabled we show mode + tag dropdown.\n  const ThreadifyModeAndTagSettings = {\n    oninit() {\n      this.settingsLoaded = false;\n      this.tagsExtensionEnabled = false;\n      app.request({ method: 'GET', url: apiUrl() + '/threadify/admin/settings' })\n        .then((res) => {\n          const body = res && (res.threadifyTag !== undefined ? res : (res.data || {}));\n          this.tagsExtensionEnabled = !!(body && body.tagsExtensionEnabled);\n          this.settingsLoaded = true;\n          m.redraw();\n        })\n        .catch(() => { this.settingsLoaded = true; m.redraw(); });\n    },\n    view() {\n      if (!this.settingsLoaded) return m('div', { className: 'Form-group' }, m('p', { className: 'helpText' }, 'Loading…'));\n\n      // Tags disabled: assume \"Thread all\", keep Threadify tag heading, no dropdown, message on separate line\n      if (!this.tagsExtensionEnabled) {\n        return m('div', [\n          m('div', { className: 'Form-group' }, [\n            m('label', {}, 'Threadify mode'),\n            m('p', { className: 'helpText', style: { marginTop: '0.25rem' } }, 'Thread all discussions.')\n          ]),\n          m('div', { className: 'Form-group' }, [\n            m('label', {}, 'Threadify tag'),\n            m('p', { className: 'helpText', style: { marginTop: '0.25rem' } }, 'Enable the Tags extension (flarum/tags) to use tag-based threading.')\n          ])\n        ]);\n      }\n\n      // Tags enabled: show mode dropdown and tag dropdown\n      const mode = app.data.settings['syntaxoutlaw-threadify.mode'] || 'default';\n      const isTagMode = mode === 'tag';\n      return m('div', [\n        m('div', { className: 'Form-group' }, [\n          m('label', {}, 'Threadify mode'),\n          m('select', {\n            className: 'FormControl',\n            value: mode,\n            onchange: (e) => {\n              const v = e.target.value;\n              if (!app.data.settings) app.data.settings = {};\n              app.data.settings['syntaxoutlaw-threadify.mode'] = v;\n              app.request({\n                method: 'POST',\n                url: apiUrl() + '/settings',\n                body: { 'syntaxoutlaw-threadify.mode': v }\n              }).then(() => {\n                app.alerts.show({ type: 'success' }, 'Your settings have been saved.');\n                m.redraw();\n              }).catch(() => {});\n              m.redraw();\n            }\n          }, [\n            m('option', { value: 'default' }, 'Thread all discussions'),\n            m('option', { value: 'tag' }, 'Thread discussions by tag')\n          ])\n        ]),\n        m('div', { className: 'Form-group' }, [\n          m(TagSelectorSetting, { isTagMode })\n        ])\n      ]);\n    }\n  };\n\n  app.extensionData\n    .for('syntaxoutlaw-threadify')\n    // Mode + tag settings: when Tags disabled, show only \"Thread all\" and a note; when enabled, show mode select + tag select\n    .registerSetting(function() {\n      return m(ThreadifyModeAndTagSettings);\n    })\n    // Existing dangerous rebuild action\n    .registerSetting(function () {\n      return m('div', {\n        style: {\n          marginTop: '2rem',\n          paddingTop: '1.5rem',\n          borderTop: '1px solid var(--border-color, #ddd)',\n          marginBottom: '2rem',\n          paddingBottom: '1.5rem',\n          borderBottom: '1px solid var(--border-color, #ddd)',\n        }\n      }, [\n        m('button', {\n          className: 'Button Button--danger',\n          onclick: () => {\n            app.modal.show(RebuildConfirmModal);\n          },\n          disabled: this.loading\n        }, this.loading ? 'Rebuilding...' : 'Rebuild Threadify Database Tables')\n      ]);\n    });\n});\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","flarum","core","compat","console","log","RebuildConfirmModal","_Modal","apply","arguments","create","constructor","_proto","oninit","vnode","this","loading","result","error","className","title","content","_this","results","m","style","marginBottom","color","fontSize","margin","threads_processed","threads_cleared","threads_errors","undefined","parent_id_updated","Button","onclick","hide","redraw","fontWeight","app","method","url","attribute","then","message","Modal","add","apiUrl","TAGS_SETTING","MultiSelectDropdown","_this2","open","searchQuery","dom","clickOutside","contains","target","oncreate","document","addEventListener","onupdate","onremove","removeEventListener","view","_this3","_vnode$attrs","attrs","options","selected","onToggle","placeholder","disabled","disabledMessage","getLabel","query","toLowerCase","trim","filtered","filter","opt","includes","triggerLabel","length","find","_o$attributes","_o$attributes2","attributes","slug","name","position","marginTop","type","textAlign","cursor","display","alignItems","justifyContent","opacity","stopPropagation","show","overflow","textOverflow","whiteSpace","marginLeft","flexShrink","top","left","right","zIndex","background","border","borderRadius","boxShadow","maxHeight","flexDirection","padding","borderBottom","value","oninput","onkeydown","overflowY","map","_opt$attributes","_opt$attributes2","checked","role","tabindex","gap","preventDefault","width","TagSelectorSetting","_this4","tags","selectedTags","tagsExtensionEnabled","settingsResponse","body","threadifyTag","data","Array","isArray","threadifyTags","settings","JSON","stringify","tagsResponse","_this5","isTagMode","currentlySelected","newSelected","_body","saveTags","s","concat","ThreadifyModeAndTagSettings","_this6","settingsLoaded","res","mode","onchange","v","registerSetting","paddingTop","borderTop","paddingBottom"],"ignoreList":[],"sourceRoot":""}
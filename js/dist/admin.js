(()=>{var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const t=flarum.core.compat["admin/app"];var a=e.n(t);console.log("[Threadify] Admin panel JS loaded"),a().initializers.add("syntaxoutlaw-threadify-admin",function(){a().extensionData.for("syntaxoutlaw-threadify").registerSetting({setting:"syntaxoutlaw-threadify.mode",type:"select",label:"Threadify mode",options:{default:"Thread all discussions",tag:'Only discussions with secondary tag "threadify"'},default:"default"}).registerSetting(function(){var e=this;return m("div",[m("button",{className:"Button Button--danger",onclick:function(){confirm("Are you sure? This will rebuild parent_id and threadify_threads from scratch!")&&(e.loading=!0,m.redraw(),a().request({method:"POST",url:a().forum.attribute("apiUrl")+"/threadify/admin/rebuild-parent-ids"}).then(function(t){alert("Rebuild complete!\n"+JSON.stringify(t.results,null,2)),e.loading=!1,m.redraw()}).catch(function(t){alert("Error: "+(t.message||t)),e.loading=!1,m.redraw()}))},disabled:this.loading},this.loading?"Rebuilding...":"Danger: Rebuild parent_id and threads")])})})})(),module.exports={}})();
//# sourceMappingURL=admin.js.map